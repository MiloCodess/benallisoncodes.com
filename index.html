<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ben Allison | Cybersecurity Portfolio</title>
  
  <!-- Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdnjs.cloudflare.com 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:;">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
  
  <!-- Secure resource loading using HTTPS -->
  <link href="https://fonts.googleapis.com/css?family=Josefin+Sans|Roboto:300,400,500" rel="stylesheet" crossorigin="anonymous">
  
  <style>
    /* Original styling from file 1 */
    body {
      background: #0a0a0a;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow-x: hidden;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "ROBOTO", sans-serif;
    }

    /* Loading Screen */
    #load {
      position: absolute;
      width: 600px;
      height: 36px;
      left: 50%;
      top: 40%;
      margin-left: -300px;
      overflow: visible;
      user-select: none;
      cursor: default;
      z-index: 1000;
    }

    #load div {
      position: absolute;
      width: 20px;
      height: 36px;
      opacity: 0;
      font-family: Helvetica, Arial, sans-serif;
      animation: move 2s linear infinite;
      transform: rotate(180deg);
      color: #35C4F0;
    }

    #load div:nth-child(2) { animation-delay: 0.2s; }
    #load div:nth-child(3) { animation-delay: 0.4s; }
    #load div:nth-child(4) { animation-delay: 0.6s; }
    #load div:nth-child(5) { animation-delay: 0.8s; }
    #load div:nth-child(6) { animation-delay: 1s; }
    #load div:nth-child(7) { animation-delay: 1.2s; }

    @keyframes move {
      0% { left: 0; opacity: 0; }
      35% { left: 41%; transform: rotate(0deg); opacity: 1; }
      65% { left: 59%; transform: rotate(0deg); opacity: 1; }
      100% { left: 100%; transform: rotate(-180deg); opacity: 0; }
    }

    /* Main Content */
    #glitch-container {
      display: none;
    }
    
    .glitch-content {
      font-family: monospace;
      margin: auto;
      color: white;
      padding: 10%;
    }
    
    #glitch-title {
      text-align: center;
      text-transform: uppercase;
      font-size: 4em;
      border-bottom: solid 1px white;
    }
    
    #glitch-text {
      text-align: left;
      font-size: 1.25em;
      text-transform: uppercase;
    }
    
    #glitch-credits {
      text-align: center;
      font-size: 1em;
      color: #bbb;
    }

    /* Navigation Page Styling from file 2 */
    .nav-page,
    .slider-page {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      position: relative;
      background-color: #1e1f26;
      text-align: center;
      padding: 0 2em;
    }

    .nav-page h1,
    .slider-page h1 {
      font-family: "Josefin Sans", sans-serif;
      font-size: 5vw;
      margin: 0;
      padding-bottom: 0.5rem;
      letter-spacing: 0.5rem;
      color: #03dac6;
      transition: all 0.3s ease;
      z-index: 3;
    }
    
    .nav-page h1:hover {
      transform: translate3d(0, -10px, 22px);
      color: #ff0266;
    }

    .slider-page h2 {
      font-size: 2vw;
      letter-spacing: 0.3rem;
      font-family: "ROBOTO", sans-serif;
      font-weight: 300;
      color: #faebd7;
      z-index: 4;
    }
    
    h3.span-page {
      font-size: 2vw;
      letter-spacing: 0.7em;
      font-family: "ROBOTO", sans-serif;
      font-weight: 300;
      color: #faebd7;
      z-index: 4;
    }
    
    .span-page span:hover {
      color: #ff0266;
      font-weight: 500;
      font-size: 2.2vw;
    }

    a {
      text-decoration: none;
    }

    .nav-container-page {
      display: flex;
      flex-direction: row;
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 75px;
      box-shadow: 20px 20px 50px rgba(0, 0, 0, 0.5);
      background: #1e1f26;
      z-index: 10;
      transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);
    }

    .nav-container-page--top-first {
      position: fixed;
      top: 75px;
      transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);
    }

    .nav-container-page--top-second {
      position: fixed;
      top: 0;
    }
    
    .nav-container-page--scrolled {
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
    }
    
    .nav-container-page--move-up {
      transform: translateY(-100%);
    }
    
    .nav-tab-page {
      display: flex;
      justify-content: center;
      align-items: center;
      flex: 1;
      color: #03dac6;
      letter-spacing: 0.1rem;
      transition: all 0.5s ease;
      font-size: 2vw;
    }

    .nav-tab-page:hover {
      color: #1e1f26;
      background: #03dac6;
      transition: all 0.5s ease;
    }

    .nav-tab-slider-page {
      position: absolute;
      bottom: 0;
      width: 0;
      height: 2px;
      background: #03dac6;
      transition: left 0.3s ease;
    }
    
    .background-page {
      position: absolute;
      height: 100vh;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 0;
    }
    
    @media (min-width: 800px) {
      .nav-page h1,
      .slider-page h1 {
        font-size: 5vw;
      }

      .nav-page h2,
      .slider-page h2 {
        font-size: 3vw;
      }

      .nav-tab-page {
        font-size: 3vw;
      }
    }

    @media screen and (min-width: 360px) {
      .nav-page h1,
      .slider-page h1 {
        font-size: 8vw;
      }

      .nav-page h2,
      .slider-page h2 {
        font-size: 2vw;
        letter-spacing: 0.2vw;
      }

      .nav-tab-page {
        font-size: 1.2vw;
      }
    }
    
    .loader-animation span {
      color: #faebd7;
      text-shadow: 0 0 0 #faebd7;
      -webkit-animation: loading-effect 1s ease-in-out infinite alternate;
    }

    @-webkit-keyframes loading-effect {
      to {
        text-shadow: 20px 0 70px #ff0266;
        color: #ff0266;
      }
    }
    
    .loader-animation span:nth-child(2) { -webkit-animation-delay: 0.1s; }
    .loader-animation span:nth-child(3) { -webkit-animation-delay: 0.2s; }
    .loader-animation span:nth-child(4) { -webkit-animation-delay: 0.3s; }
    .loader-animation span:nth-child(5) { -webkit-animation-delay: 0.4s; }
    .loader-animation span:nth-child(6) { -webkit-animation-delay: 0.5s; }
    .loader-animation span:nth-child(7) { -webkit-animation-delay: 0.6s; }
    .loader-animation span:nth-child(8) { -webkit-animation-delay: 0.7s; }
    .loader-animation span:nth-child(9) { -webkit-animation-delay: 0.8s; }
    .loader-animation span:nth-child(10) { -webkit-animation-delay: 0.9s; }
    .loader-animation span:nth-child(11) { -webkit-animation-delay: 1s; }
    .loader-animation span:nth-child(12) { -webkit-animation-delay: 1.1s; }
    .loader-animation span:nth-child(13) { -webkit-animation-delay: 1.2s; }
    .loader-animation span:nth-child(14) { -webkit-animation-delay: 1.3s; }
    .loader-animation span:nth-child(15) { -webkit-animation-delay: 1.4s; }
    .loader-animation span:nth-child(16) { -webkit-animation-delay: 1.5s; }
    .loader-animation span:nth-child(17) { -webkit-animation-delay: 1.6s; }
    .loader-animation span:nth-child(18) { -webkit-animation-delay: 1.7s; }
    .loader-animation span:nth-child(19) { -webkit-animation-delay: 1.8s; }
    .loader-animation span:nth-child(20) { -webkit-animation-delay: 1.9s; }
    .loader-animation span:nth-child(21) { -webkit-animation-delay: 2s; }
    .loader-animation span:nth-child(22) { -webkit-animation-delay: 2.1s; }
    .loader-animation span:nth-child(23) { -webkit-animation-delay: 2.2s; }
    .loader-animation span:nth-child(24) { -webkit-animation-delay: 2.3s; }
    .loader-animation span:nth-child(25) { -webkit-animation-delay: 2.4s; }
    
    /* Fix for conflicting styles */
    #navigation-section {
      margin-top: 20px;
      overflow-y: auto;
    }
    
    .main-content {
      width: 100%;
    }
    
    /* Content styling for sections */
    .content-block {
      max-width: 800px;
      margin: 30px auto;
      background-color: rgba(0, 0, 0, 0.2);
      padding: 25px;
      border-radius: 8px;
      text-align: left;
      color: #faebd7;
      font-size: 1.2vw;
      line-height: 1.6;
      z-index: 3;
    }
    
    .content-block h3 {
      color: #03dac6;
      margin-bottom: 15px;
      font-size: 1.8vw;
    }
    
    .feature-list {
      list-style-type: none;
      padding-left: 0;
    }
    
    .feature-list li {
      margin-bottom: 10px;
      padding-left: 25px;
      position: relative;
    }
    
    .feature-list li:before {
      content: "→";
      position: absolute;
      left: 0;
      color: #ff0266;
    }
    
    .code-example {
      background-color: rgba(0, 0, 0, 0.4);
      padding: 15px;
      border-radius: 5px;
      font-family: monospace;
      margin: 15px 0;
      overflow-x: auto;
    }
    
    .tech-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .tech-item {
      background-color: rgba(3, 218, 198, 0.1);
      padding: 15px;
      border-radius: 5px;
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .tech-item:hover {
      background-color: rgba(255, 2, 102, 0.2);
      transform: translateY(-5px);
    }
  </style>
</head>
<body>
  <!-- Loading animation from file 1 -->
  <div id="load">
    <div>G</div>
    <div>N</div>
    <div>I</div>
    <div>D</div>
    <div>A</div>
    <div>O</div>
    <div>L</div>
  </div>

  <!-- Original glitch content from file 1 -->
  <div id="glitch-container">
    <div class="glitch-content" id="glitch-title">Ben Allison</div>
    <div class="glitch-content" id="glitch-text">University of Kentucky Freshman Computer Science major.</div>
    <div class="glitch-content" id="glitch-credits">Cybersecurity Portfolio</div>
  </div>

  <!-- Navigation page from file 2 (renamed classes to avoid conflicts) -->
  <div id="navigation-section" style="display: none;">
    <section class="nav-page">
      <h1>CYBERSECURITY</h1>
      <h3 class="span-page loader-animation">
        <span class="m">B</span>
        <span class="m">E</span>
        <span class="m">S</span>
        <span class="m">T</span>
        <span class="m">&nbsp;</span>
        <span class="m">P</span>
        <span class="m">R</span>
        <span class="m">A</span>
        <span class="m">C</span>
        <span class="m">T</span>
        <span class="m">I</span>
        <span class="m">C</span>
        <span class="m">E</span>
        <span class="m">S</span>
        <span class="m">&nbsp;</span>
        <span class="m">2</span>
        <span class="m">0</span>
        <span class="m">2</span>
        <span class="m">5</span>
      </h3>
      <div class="nav-container-page">
        <a class="nav-tab-page" href="#tab-web-sec">Web Security</a>
        <a class="nav-tab-page" href="#tab-infra">Infrastructure</a>
        <a class="nav-tab-page" href="#tab-ai-sec">AI Security</a>
        <a class="nav-tab-page" href="#tab-crypto">Cryptography</a>
        <a class="nav-tab-page" href="#tab-cloud">Cloud Security</a>
        <span class="nav-tab-slider-page"></span>
      </div>
    </section>
    
    <main class="main-content">
      <section id="tab-web-sec" class="slider-page">
        <h1>WEB SECURITY</h1>
        <h2>Protecting Modern Web Applications</h2>
        
        <div class="content-block">
          <h3>Web Application Security Best Practices</h3>
          <p>Modern web applications face numerous security challenges. Implementing these best practices is essential for maintaining a secure web presence.</p>
          
          <ul class="feature-list">
            <li>Implement strong Content Security Policy (CSP) headers</li>
            <li>Use Subresource Integrity (SRI) for third-party resources</li>
            <li>Enforce HTTPS with HSTS headers</li>
            <li>Implement proper input validation and sanitization</li>
            <li>Use parameterized queries to prevent SQL injection</li>
          </ul>
          
          <div class="code-example">
            // Example of a secure fetch implementation<br>
            async function secureDataFetch(url, params) {<br>
            &nbsp;&nbsp;try {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;// Set secure headers<br>
            &nbsp;&nbsp;&nbsp;&nbsp;const headers = new Headers({<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'Content-Type': 'application/json',<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'X-Requested-With': 'XMLHttpRequest'<br>
            &nbsp;&nbsp;&nbsp;&nbsp;});<br>
            <br>
            &nbsp;&nbsp;&nbsp;&nbsp;// Always use HTTPS<br>
            &nbsp;&nbsp;&nbsp;&nbsp;if (!url.startsWith('https://')) {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw new Error('HTTPS required for all API calls');<br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            <br>
            &nbsp;&nbsp;&nbsp;&nbsp;const response = await fetch(url, {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method: 'POST',<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;headers: headers,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;credentials: 'same-origin',<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body: JSON.stringify(params)<br>
            &nbsp;&nbsp;&nbsp;&nbsp;});<br>
            <br>
            &nbsp;&nbsp;&nbsp;&nbsp;if (!response.ok) {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw new Error(`HTTP error ${response.status}`);<br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            <br>
            &nbsp;&nbsp;&nbsp;&nbsp;return await response.json();<br>
            &nbsp;&nbsp;} catch (error) {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;console.error('Fetch error:', error);<br>
            &nbsp;&nbsp;&nbsp;&nbsp;// Handle error appropriately<br>
            &nbsp;&nbsp;}<br>
            }
          </div>
        </div>
      </section>
      
      <section id="tab-infra" class="slider-page">
        <h1>INFRASTRUCTURE</h1>
        <h2>Securing systems from the ground up</h2>
        
        <div class="content-block">
          <h3>Secure Infrastructure Architecture</h3>
          <p>Infrastructure security requires a holistic approach that addresses all layers of the technology stack, from network to application.</p>
          
          <p>Key infrastructure security principles:</p>
          
          <ul class="feature-list">
            <li>Implement defense in depth with multiple security layers</li>
            <li>Apply the principle of least privilege for all services</li>
            <li>Segment networks to contain potential breaches</li>
            <li>Use infrastructure as code (IaC) with security scanning</li>
            <li>Automated patch management and vulnerability assessment</li>
          </ul>
          
          <div class="tech-grid">
            <div class="tech-item">Zero Trust</div>
            <div class="tech-item">SIEM Systems</div>
            <div class="tech-item">WAF</div>
            <div class="tech-item">IDS/IPS</div>
            <div class="tech-item">MFA</div>
            <div class="tech-item">EDR</div>
          </div>
        </div>
      </section>
      
      <section id="tab-ai-sec" class="slider-page">
        <h1>AI SECURITY</h1>
        <h2>Protecting AI Models and Systems</h2>
        
        <div class="content-block">
          <h3>AI Security Challenges</h3>
          <p>As AI becomes more integrated into critical systems, securing these technologies presents unique challenges that differ from traditional cybersecurity approaches.</p>
          
          <p>Critical AI security considerations:</p>
          
          <ul class="feature-list">
            <li>Protecting against adversarial attacks on machine learning models</li>
            <li>Implementing model monitoring to detect poisoning attempts</li>
            <li>Securing the ML pipeline from data collection to deployment</li>
            <li>Managing privacy concerns in AI training data</li>
            <li>Ensuring model explainability for security verification</li>
            <li>Preventing prompt injection attacks in LLM applications</li>
          </ul>
          
          <p>The AI security landscape is evolving rapidly, with researchers developing new defenses against adversarial machine learning and model extraction attacks that could compromise intellectual property or enable system manipulation.</p>
        </div>
      </section>
      
      <section id="tab-crypto" class="slider-page">
        <h1>CRYPTOGRAPHY</h1>
        <h2>The foundation of digital security</h2>
        
        <div class="content-block">
          <h3>Modern Cryptographic Best Practices</h3>
          <p>Strong cryptography underlies almost every aspect of information security. Understanding and properly implementing cryptographic protocols is essential for securing data at rest and in transit.</p>
          
          <p>Critical cryptographic considerations:</p>
          
          <ul class="feature-list">
            <li>Use strong, standardized algorithms (AES-256, RSA-2048+, ECC)</li>
            <li>Implement forward secrecy in communications</li>
            <li>Proper key management with secure generation and storage</li>
            <li>Quantum-resistant algorithm preparation</li>
            <li>Secure random number generation</li>
          </ul>
          
          <div class="code-example">
            // Example of secure password hashing with Argon2<br>
            const argon2 = require('argon2');<br><br>
            
            async function hashPassword(password) {<br>
            &nbsp;&nbsp;try {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;// Generate a high-security password hash<br>
            &nbsp;&nbsp;&nbsp;&nbsp;const hash = await argon2.hash(password, {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: argon2.argon2id,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memoryCost: 65536, // 64 MiB<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeCost: 3,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelism: 4<br>
            &nbsp;&nbsp;&nbsp;&nbsp;});<br>
            &nbsp;&nbsp;&nbsp;&nbsp;return hash;<br>
            &nbsp;&nbsp;} catch (error) {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;console.error('Error hashing password:', error);<br>
            &nbsp;&nbsp;&nbsp;&nbsp;throw new Error('Password security process failed');<br>
            &nbsp;&nbsp;}<br>
            }
          </div>
        </div>
      </section>
      
      <section id="tab-cloud" class="slider-page">
        <h1>CLOUD SECURITY</h1>
        <h2>Protecting resources in distributed environments</h2>
        
        <div class="content-block">
          <h3>Cloud Security Architecture</h3>
          <p>Cloud environments require a different security approach compared to traditional on-premises infrastructure. The shared responsibility model means understanding where provider security ends and your responsibility begins.</p>
          
          <p>Essential cloud security practices:</p>
          
          <ul class="feature-list">
            <li>Identity and Access Management (IAM) with least privilege</li>
            <li>Data encryption both at rest and in transit</li>
            <li>Network security groups and proper segmentation</li>
            <li>Regular security posture assessments</li>
            <li>Cloud Security Posture Management (CSPM) tools</li>
          </ul>
          
          <p>The migration to cloud services has accelerated the need for DevSecOps practices that integrate security throughout the development lifecycle, with infrastructure-as-code scanning, automated compliance verification, and continuous monitoring being key components of a secure cloud strategy.</p>
          
          <div class="tech-grid">
            <div class="tech-item">AWS Security Hub</div>
            <div class="tech-item">Azure Sentinel</div>
            <div class="tech-item">GCP Security Command Center</div>
            <div class="tech-item">Terraform Security</div>
            <div class="tech-item">Container Security</div>
            <div class="tech-item">Serverless Security</div>
          </div>
        </div>
      </section>
    </main>
    <canvas class="background-page"></canvas>
  </div>

  <!-- Scripts with SRI for security -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" 
          integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" 
          crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.2.3/particles.min.js"
          integrity="sha512-jq8sZI0I9Og0nnZ+CfJRnUzNSDKxr/5Bvha5bn7AHzTnRyxUfpUArMzfH++mwE/hb2efOo1gCAgI+1RMzf8F7g=="
          crossorigin="anonymous"></script>
  
  <script>
// Secure window.onload function with proper error handling
window.onload = function() {
  console.log("✅ Page fully loaded. Starting initialization sequence...");
  
  // Add a safety timeout in case something goes wrong
  const safetyTimeout = setTimeout(() => {
    console.warn("⚠️ Safety timeout triggered - forcing display of content");
    forceDisplayContent();
  }, 8000); // Extended timeout to accommodate two loading cycles
  
  // Initialize the page with two loading cycles
  initializePageWithDoubleLoad()
    .then(() => {
      console.log("✅ Page successfully initialized after double load");
      clearTimeout(safetyTimeout); // Clear the safety timeout if everything loaded properly
    })
    .catch(error => {
      console.error("❌ Error during initialization:", error);
      forceDisplayContent(); // Show content even if there was an error
      clearTimeout(safetyTimeout);
    });
};

// Function to force display content if loading gets stuck
function forceDisplayContent() {
  try {
    // Hide loader
    const loadElement = document.getElementById("load");
    if (loadElement) {
      loadElement.style.display = "none";
    }
    
    // Show main content containers
    const glitchContainer = document.getElementById("glitch-container");
    if (glitchContainer) {
      glitchContainer.style.display = "block";
    }
    
    const navigationSection = document.getElementById("navigation-section");
    if (navigationSection) {
      navigationSection.style.display = "block";
    }
  } catch (error) {
    console.error("❌ Error in forceDisplayContent:", error);
  }
}

// Main initialization function that runs the loading animation twice
async function initializePageWithDoubleLoad() {
  try {
    // First loading cycle
    console.log("Starting first loading cycle...");
    await runLoadingCycle();
    
    // Reset the loader for second cycle
    await resetLoader();
    
    // Second loading cycle
    console.log("Starting second loading cycle...");
    await runLoadingCycle();
    
    // Show the content after both loading cycles
    await showContent();
    
    // Initialize components with proper timing
    await initializeComponents();
  } catch (error) {
    console.error("❌ Error in page initialization:", error);
    throw error; // Re-throw to be caught by the main handler
  }
}

// Run a single loading cycle
function runLoadingCycle() {
  return new Promise((resolve) => {
    // Ensure loader is visible
    const loadElement = document.getElementById("load");
    if (loadElement) {
      loadElement.style.display = "block";
      loadElement.style.opacity = "1";
      
      // Let the animation run for a set time (2.5 seconds)
      setTimeout(() => {
        resolve();
      }, 2500);
    } else {
      console.warn("⚠️ Warning: Loader element not found");
      resolve();
    }
  });
}

// Reset the loader between cycles
function resetLoader() {
  return new Promise((resolve) => {
    const loadElement = document.getElementById("load");
    if (loadElement) {
      // Temporarily hide the loader
      loadElement.style.opacity = "0";
      
      // Refresh the animation state after a short pause
      setTimeout(() => {
        // Reset animation state for all divs
        const divs = loadElement.querySelectorAll("div");
        divs.forEach(div => {
          // Force a reflow to reset animation
          div.style.animation = 'none';
          div.offsetHeight; // Trigger reflow
          div.style.animation = null; // Reset to CSS defined animation
        });
        
        // Make the loader visible again
        loadElement.style.opacity = "1";
        resolve();
      }, 200);
    } else {
      resolve();
    }
  });
}

// Hide the loader
function hideLoader() {
  return new Promise((resolve) => {
    try {
      const loadElement = document.getElementById("load");
      if (loadElement) {
        // Use a fade-out effect for smoother transition
        loadElement.style.transition = "opacity 0.5s";
        loadElement.style.opacity = "0";
        
        setTimeout(() => {
          loadElement.style.display = "none";
          resolve();
        }, 500); // Match timing with the transition
      } else {
        console.warn("⚠️ Warning: Loader element not found");
        resolve(); // Continue even if element is missing
      }
    } catch (error) {
      console.error("❌ Error hiding loader:", error);
      resolve(); // Continue despite error
    }
  });
}

// Show the content
function showContent() {
  return new Promise((resolve) => {
    try {
      // Hide loader first
      hideLoader().then(() => {
        // Show glitch container
        const glitchContainer = document.getElementById("glitch-container");
        if (glitchContainer) {
          glitchContainer.style.display = "block";
          glitchContainer.style.opacity = "0";
          glitchContainer.style.transition = "opacity 0.5s";
          
          setTimeout(() => {
            glitchContainer.style.opacity = "1";
          }, 50);
        } else {
          console.warn("⚠️ Warning: Glitch container element not found");
        }
        
        // Show navigation section
        const navigationSection = document.getElementById("navigation-section");
        if (navigationSection) {
          navigationSection.style.display = "block";
          resolve();
        } else {
          console.warn("⚠️ Warning: Navigation section element not found");
          resolve();
        }
      });
    } catch (error) {
      console.error("❌ Error showing content:", error);
      resolve(); // Continue despite error
    }
  });
}

// Placeholder for additional component initialization
function initializeComponents() {
  return new Promise((resolve) => {
    // Implement any additional component initialization here
    resolve();
  });
}
